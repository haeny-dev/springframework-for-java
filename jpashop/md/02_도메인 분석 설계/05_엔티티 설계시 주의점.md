### 엔티티 설계시 주의점

- 모든 연관관계는 EAGER가 아닌 LAZY로 설정해야 한다.
    - 하이버네이트에서는 EAGER에 대해서 계속해서 밀고 있고, 최적화도 해주고 있다.
    - 예를 들어, Order와 Member 관계에서 Order를 조회할때 Member를 EAGER로 설정해져있다면, 한번에 Member정보까지 조회해온다.
    - 그러나, 문제는 JPQL을 사용하여 select o from order o; 와 같이 사용할 경우
      -> SQL 로 번역되어 select * from order 로 조회된다. eager나 lazy랑 상관없이 order가 100건이면 member를 100번 조회하게 되는 현상이 발생한다.
      -> N + 1 문제
      
    - 결론, 전부다 지연로딩으로 설정해줘야 한다.

- 리스트 같은 경우 필드에서 바로 초기화하는 것이 하이버네이트에서 제공하는 베스트 프랙티스라고 한다.

- order - orderItems, order - delivery 관계에서 cascade 미설정 시
    - persist(orderItemA)
    - persist(orderItemB)
    - persist(orderItemC)
    - persist(delivery)
    - persist(order)
    
- CascadeType.ALL 설정 시
    - persist(order)
    