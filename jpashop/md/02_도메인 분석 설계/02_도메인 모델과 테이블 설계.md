### 도메인 모델과 테이블 설계

<img src="엔티티%20분석.png" alt="엔티티 분석">

- 회원이 주문을 하기 때문에, 회원이 주문리스트를 가지는 것은 얼핏 보면 잘 설계한 것 같지만, 객체 세상은 실제 세계와는 다르다.
- 실무에서는 회원이 주문을 참조하지 않고, 주문이 회원을 참조하는 것으로 충분하다.
- 여기서는 일대다, 다대일의 양방향 연관관계를 설명해주기 위해서 추가

*외래 키가 있는 곳을 연관관계의 주인으로 정해라*
- 연관관계의 주인은 단순히 외래 키를 누가 관리하냐의 문제이지 비즈니스상 우위에 있다고 주인으로 정하면 안된다
- 예를 들어,
    - 자동차와 바퀴가 있으면, 일대다 관계에서 항상 다쪽에 외래 키가 있으므로 외래 키가 있는 바퀴를 연관관계의 주인으로 정하면 된다.
    - 물론 자동차를 연관관계의 주인으로 정하는 것이 불가능 한 것은 아니지만,
    - 자동차를 연관관계의 주인으로 정하면 자동차가 관리하지 않는 바퀴 테이블의 외래 키 값이 업데이트 되므로 관리와 유지보수가 어렵고,
    - 추가적으로 별도의 업데이트 쿼리가 발생하는 성능 문제도 있다.

*<?> 키워드*
- 임베디드 타입
- 양방향 관계에서 연관관계의 주인