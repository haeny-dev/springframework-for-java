### 회원 기능 테스트

*@RunWith(SpringRunner.class)*
- 스프링과 테스트 통합

*@SpringBootTest*
- 스프링 부트를 띄우고 테스트
- 이게 없으면 @Autowired 다 실패

*@Transactional*
- 반복 가능한 테스트 지원
- 각각의 테스트를 실행할 때마다 트랜잭션을 시작하고 테스트가 끝나면 트랜잭션을 강제로 롤백
- 해당 어노테이션이 테스트 케이스에서 사용될 때만 롤백
    - em.persist 같은 경우 insert 쿼리가 발생하지 않는다.
    
*테스트 케이스를 위한 설정*
- 테스트 케이스는 격리된 환경에서 실행하고, 끝나면 데이터를 초기화하는 것이 좋다.
- 그런 면에서 메모리 DB를 사용하는 것이 가장 이상적이다.
- 추가로 테스트 케이스를 위한 스프링 환경과, 일반적으로 애플리케이션을 실행하는 환경은 보통 다르므로 설정 파일을 다르게 사용하는 것이 좋다.
- `src/test/resources/application.yml` 이 있다면 테스트 실행 시 해당 설정 파일을 사용하는 것이 우선시 된다.
- 스프링 부트는 datasource 설정이 없으면, 기본적으로 메모리 DB 를 사용하고, driver-class 도 현재 등록된 라이브러리를 보고 찾아준다.
    - 추가로 ddl-auto 도 create-drop 모드로 동작한다.
    - 따라서, 데이터소스나 JPA 관련된 별도의 추가 설정을 하지 않아도 된다.
    
*참고*
- [테스트 케이스 작성 고수 되는 마법: Given, When, Then](http://martinfowler.com/bliki/GivenWhenThen.html)