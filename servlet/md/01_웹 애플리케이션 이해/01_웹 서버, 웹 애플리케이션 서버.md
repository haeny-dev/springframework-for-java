### 웹 서버, 웹 애플리케이션 서버

- **웹**이라는 것은 **HTTP**를 기반으로 하고 있다.

*모든 것이 HTTP*
- HTTP 메시지에 모든 것을 전송
    - HTML, TEXT
    - IMAGE, 음성, 영상, 파일
    - JSON, XML(API)
    - 거의 모든 형태의 데이터 전송 가능
    - 서버간에 데이터를 주고 받을 때도 대부분 HTTP 사용
    
*웹 서버(Web Server)*
- HTTP 기반으로 동작
- 정적 리소스 제공, 기타 부가기능
- 정적(파일) HTML, CSS, JS, 이미지, 영상
- 예) NGINX, APACHE

*웹 애플리케이션 서버(WAS - Web Application Server)*
- HTTP 기반으로 동작
- 웹 서버 기능 포함 + (정적 리소스 제공 기능)
- 프로그램 코드를 실행해서 애플리케이션 로직 수행
  - 동적 HTML, HTTP API(JSON)
  - 서블릿, JSP, 스프링 MVC
- 예) 톰캣(Tomcat), Jetty, Undertow

*웹 서버, 웹 애플리케이션 서버(WAS) 차이*
- 웹 서버는 정적 리소스(파일), WAS 는 애플리케이션 로직을 담당
- 사실 둘의 경계가 모호하다.
  - 웹 서버도 프로그램을 실행하는 기능을 포함하기도 한다.
  - 웹 애플리케이션 서버도 웹 서버의 기능을 제공할 수 있다.
- 자바는 서블릿 컨테이너 기능을 제공하면 WAS 라고 하기도 하는데,
  - 이 말도 이제는 모호한 것이 서블릿 없이 자바코드를 실행하는 서버 프레임워크도 있음.
- **WAS 는 애플리케이션 코드를 실행하는데 더 특화**

*웹 시스템 구성 - WAS, DB*
- WAS, DB 만으로 시스템 구성 가능
- WAS 는 정적 리소스, 애플리케이션 로직 모두 제공 가능
- 하지만, 이런 경우 WAS 가 너무 많은 역할을 담당하여 서버 과부하 우려
- 정적 리소스와 애플리케이션 로직을 비교하였을 때, 애플리케이션 로직이 더 비용이 비싸다고 할 수 있는데
  - 비교적 비용이 저렴한 정적 리소스 때문에 애플리케이션 로직의 수행이 어려울 수 있다.
- 또한, WAS 에 장애가 발생하면 대부분의 경우 애플리케이션 로직에서 문제가 발생한다.
  - 그런 상황에서 정적리소스와 애플리케이션 로직이 분리되어 있지 않은 경우
  - 정적리소스로 구성된 오류화면도 노출시키지 못한다.
  
*웹 시스템 구성 - WEB, WAS, DB*
- 정적 리소스는 웹 서버가 처리
- 웹 서버는 애플리케이션 로직같은 동적인 처리가 필요하면 WAS에 요청을 위임
- WAS 는 중요한 애플리케이션 로직 처리 전담
- 위와 같이 구성하면, 효율적인 리소스 관리가 가능하다.
  - 정적 리소스가 많이 사용되면 WEB 서버를 증설
  - 애플리케이션 리소스가 많이 사용되면 WAS 증설
- 또한, 정적 리소스만 제공하는 웹 서버는 장애가 잘 발생하지 않는다.
- 하지만 애플리케이션 로직이 동작하는 WAS 는 장애가 발생할 확률이 높은데,
- WAS, DB 장애시 WEB 서버가 정적인 오류 화면을 제공할 수 있다.

